sudo: required

services:
  - docker

# show correct language tag in Travis CI build
language: cpp

env:
  matrix:
    - INSTALL_ROS: false    ## use ubuntu docker image from docker hub


before_install:
  - pwd
  # this cmd will run docker, and copy the contents of the repo root directory to /home/ivrcscripts folder
  - docker run -d -it --name ci_xenial -v $(pwd):/home/ivrcscripts aragdoll/docker_ubuntu:xenial

install:
  - ./scripts/docker_install_dependencies.sh
  - docker exec -it ci_xenial /bin/bash -c "/home/ivrcscripts/install_ros.sh"


## docker exec command allows to execute a command or a series of Linux shell commands inside our container.
## -t options allocates a pseudo-TTY for this command(-s) so you can view output or error messages, if any, in Travis CI build log.
## xenial is the name of a container we send commands to.
## bash -c means that we will execute the following string in bash shell.
## YAML allows to span strings enclosed in quotes (") into several lines and I recommend to put each command on a separate line for
## better readability. Bash commands are separated with a semicolon (;).

script:
  - docker exec -it ci_xenial /bin/bash -c "echo 'CI is working!'"



notifications:
    email: false
